<polymer-element name="x-window" attributes="title">
	<template>
		<style>
		  .window {
			box-shadow: 3px 3px 5px 1px #ccc;
			border: 1px solid #a1a1a1;
			/*position:relative;*/
			position:fixed;
			/*position:absolute;*/
			background-color:white;
			min-width:30%;
			min-heigth:30%;
			max-width:90%;
			max-heigth:90%;

			z-index: 100;

		  }
		   .title {
			font-weigth: bold;
			background-color: #e1e1e1;
			border-bottom: 1px solid #a1a1a1; 
			padding: 0.3em;
			color:black;
		  }
		  .content{
  			padding:1em;
			/*color: #dbdbdb;*/
		  }
		</style>
		<div class="window" on-click="setFocus">
			<div class="title">{{title}}</div>
			<input id="nameInput"  type="text">
			<div class="content"><content></content></div>
		</div>
	</template>
	<script>
	Polymer('x-window', {
		uiOnly: true,
		title: '',
		close: function (){},
		hide: function () {},
		minimize: function (){},

		 	enteredView: function() {
			console.log('we are here!!');
			this.webkitShadowRoot.querySelector('input').focus();
      },
	  
		created: function (){
		//console.log(this.webkitShadowRoot.querySelector('input'));
		//alert('creato x window');
			//test = this.webkitShadowRoot.querySelector('input');
			//this.$.nameInput.focus();
			//this.tabIndex = 0;
			//console.log('IO SONO STATO CREATO DA ', this, this.host);
		},
		setFocus:function (){
			console.log('gli do il focus');
			this.webkitShadowRoot.querySelector('input').focus();
			//this.$.nameInput.focus();
		},
		setPosition: function (htmlElement, htmlElementPoint, myPoint){

			target = htmlElement;
			
			//console.log('target is', target);

			this.webkitShadowRoot.querySelector('.window').style.left='110px';
			this.webkitShadowRoot.querySelector('.window').style.top='110px';	
			
			setTimeout(getOffset, 0, target, function (position){
				this.webkitShadowRoot.querySelector('.window').style.left=position.left+'px';
				this.webkitShadowRoot.querySelector('.window').style.top=position.top+'px';
			}.bind(this));
		},
		myfocus: function () {
			setTimeout(function (){
				//this.webkitShadowRoot.querySelector('#window').focus();
			}.bind(this), 1);
		}
	});
	</script>
</polymer-element>